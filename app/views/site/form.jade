form.form-horizontal(ng-submit="save(site)", ng-controller="SiteFormCtrl")
  .control-group
    label.control-label(for='name') Site Name:
    .controls
      input.span5#name(ng-model="site.name", type="text",
      placeholder="site name", required)
  .control-group
    label.control-label(for='seed') Start Url:
    .controls
      ul
        li(ng-repeat="seed in site.seed")
          | {{seed}}
          button.btn.btn-link(type='button', ng-click='rm_seed(site, seed)')
            i.icon-remove
      .input-append
        input.span5#seed(ng-model="new_seed", type="url",
        placeholder="http://your.site.com/")
        button.btn(type='button', ng-click='add_seed(site)') Add
  .control-group
    label.control-label(for='list_re') list page like:
    .controls
      ul
        li(ng-repeat="re in site.list_regexp")
          | {{re}}
          button.btn.btn-link(type='button', ng-click='rm_list_re(site, re)')
            i.icon-remove
      .input-append
        input.span5#list_re(ng-model="list_re", type="text",
        typeahead="re for re in suggest($viewValue)",
        placeholder="list page url pattern")
        button.btn(type="button", ng-click="add_list_regex(site)") Add
  .control-group
    label.control-label(for='info_re') info page like:
    .controls
      ul
        li(ng-repeat="re in site.info_regexp")
          | {{re}}
          button.btn.btn-link(type='button', ng-click='rm_info_re(site, re)')
            i.icon-remove
      .input-append
        input.span5#info_re(ng-model="info_re", type="text",
        typeahead="re for re in suggest($viewValue)",
        placeholder="info page url pattern")
        button.btn(type="button", ng-click="add_info_regex(site)") Add
  .control-group
    .controls
      label.checkbox
        input(type="checkbox", ng-model="site.noquery")
        |  Avoid links with arguments.
        small (e.g.&nbsp;page?foo=bar)
  .control-group
    label.control-label info parse:
    .controls
      label.
        just paste your parse function code here, and
        return your results object
      code exports.parse = function (content, document, window) {
      .row
        .span6
          textarea(ui-codemirror="editorOptions", ng-model="site.info_parse")
      code };
  .form-actions
    button.btn.btn-primary(type='submit') Save
    button.btn(type='button', ng-click='cancel()') Cancel
